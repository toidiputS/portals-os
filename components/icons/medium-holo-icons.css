/* === ENVOY ICON ANIMATIONS === */

/* Radiating waves */
.envoy-wave-1 {
  animation: waveExpand 2s ease-out infinite;
}

.envoy-wave-2 {
  animation: waveExpand 2s ease-out infinite 0.3s;
}

.envoy-wave-3 {
  animation: waveExpand 2s ease-out infinite 0.6s;
}

@keyframes waveExpand {
  0% {
    opacity: 0;
    transform: translateX(-5px) scale(0.8);
  }
  50% {
    opacity: 0.6;
  }
  100% {
    opacity: 0;
    transform: translateX(5px) scale(1.2);
  }
}

/* Message particles launching */
.envoy-particle-1 {
  offset-path: path('M 24 28 L 42 18');
  animation: launchParticle 3s ease-out infinite;
}

.envoy-particle-2 {
  offset-path: path('M 24 28 L 46 22');
  animation: launchParticle 3s ease-out infinite 0.7s;
}

.envoy-particle-3 {
  offset-path: path('M 24 28 L 42 26');
  animation: launchParticle 3s ease-out infinite 1.4s;
}

.envoy-particle-4 {
  offset-path: path('M 24 28 L 38 22');
  animation: launchParticle 3s ease-out infinite 2.1s;
}

@keyframes launchParticle {
  0% {
    offset-distance: 0%;
    opacity: 0;
  }
  20% {
    opacity: 0.8;
  }
  80% {
    opacity: 0.6;
  }
  100% {
    offset-distance: 100%;
    opacity: 0;
  }
}

/* Seal pulse */
.envoy-seal-pulse {
  animation: sealPulse 2s ease-in-out infinite;
}

@keyframes sealPulse {
  0%, 100% {
    r: 1.5;
    opacity: 0.7;
  }
  50% {
    r: 2;
    opacity: 0.9;
  }
}

.envoy-seal {
  animation: sealGlow 2s ease-in-out infinite;
}

@keyframes sealGlow {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 0.8; }
}

/* === FLO ICON ANIMATIONS === */

/* Wave flow animations */
.flo-wave-1 {
  stroke-dasharray: 40;
  animation: flowDash 4s linear infinite;
}

.flo-wave-2 {
  stroke-dasharray: 40;
  animation: flowDash 4s linear infinite 0.5s;
}

.flo-wave-3 {
  stroke-dasharray: 40;
  animation: flowDash 4s linear infinite 1s;
}

@keyframes flowDash {
  to {
    stroke-dashoffset: 80;
  }
}

/* Content blocks flowing along path */
.flo-block-1 {
  offset-path: path('M 6 20 Q 14 16 22 20 T 38 20');
  animation: floatBlock 6s ease-in-out infinite;
}

.flo-block-2 {
  offset-path: path('M 6 24 Q 14 20 22 24 T 38 24');
  animation: floatBlock 6s ease-in-out infinite 2s;
}

.flo-block-3 {
  offset-path: path('M 6 28 Q 14 24 22 28 T 38 28');
  animation: floatBlock 6s ease-in-out infinite 4s;
}

@keyframes floatBlock {
  0% {
    offset-distance: 0%;
    opacity: 0;
  }
  10% {
    opacity: 0.6;
  }
  90% {
    opacity: 0.6;
  }
  100% {
    offset-distance: 100%;
    opacity: 0;
  }
}

/* Ripple effects (momentum building) */
.flo-ripple-1 {
  animation: rippleExpand 3s ease-out infinite;
}

.flo-ripple-2 {
  animation: rippleExpand 3s ease-out infinite 1s;
}

.flo-ripple-3 {
  animation: rippleExpand 3s ease-out infinite 2s;
}

@keyframes rippleExpand {
  0% {
    r: 2;
    opacity: 0.5;
  }
  100% {
    r: 12;
    opacity: 0;
  }
}

/* Flow particles are now static */

/* Source pulse */
.flo-source-pulse {
  animation: sourcePulse 2s ease-in-out infinite;
}

@keyframes sourcePulse {
  0%, 100% {
    r: 1;
    opacity: 0.8;
  }
  50% {
    r: 1.5;
    opacity: 1;
  }
}

/* === SHARED STYLES === */
.holo-icon {
  filter: drop-shadow(0 0 3px rgba(0, 243, 255, 0.4));
  transition: filter 0.3s ease;
}

.holo-icon:hover {
  filter: drop-shadow(0 0 6px rgba(0, 243, 255, 0.6));
}

.holo-icon svg {
  overflow: visible; /* prevent clipping of orbiting elements */
}

/* === PERFORMANCE OPTIMIZATION === */
.holo-icon * {
  will-change: auto;
}

/* === REDUCED MOTION === */
@media (prefers-reduced-motion: reduce) {
  .holo-icon *,
  .holo-icon {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
  }
}
